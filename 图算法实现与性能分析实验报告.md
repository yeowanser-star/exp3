# 图算法实现与性能分析实验报告

## 一、实验目的

本实验旨在通过实现多种经典图算法，深入理解图论基本概念及其在实际问题中的应用。具体目标包括：

1. 实现图的两种存储结构（邻接矩阵和邻接表）
2. 掌握图的遍历算法（BFS和DFS）
3. 学习并实现最短路径算法（Dijkstra）
4. 实现最小生成树算法（Prim）
5. 理解图连通性概念，实现双连通分量查找算法（Tarjan）

## 二、算法实现

### 1. 图的数据结构设计

```cpp
class Graph {
private:
    vector<vector<int>> adjMatrix;  // 邻接矩阵
    vector<vector<pair<int, int>>> adjList;  // 邻接表
    map<char, int> vertexToIndex;  // 顶点字符到索引的映射
    map<int, char> indexToVertex;  // 索引到顶点字符的映射
    int vertexCount;
};
```

同时实现了计算面积和IoU（交并比）的方法，这是NMS算法的核心。

### 2. 核心算法实现

#### 2.1 广度优先搜索（BFS）
- 使用队列实现
- 时间复杂度：$O(V+E)$
- 应用：最短路径查找（无权图）

#### 2.2 深度优先搜索（DFS）
- 使用栈实现
- 时间复杂度：$O(V+E)$
- 应用：连通分量查找、拓扑排序

#### 2.3 Dijkstra最短路径算法
- 贪心算法
- 时间复杂度：$O(V²)$，可用优先队列优化到O(E log V)
- 限制：不能处理负权边

#### 2.4 Prim最小生成树算法
- 贪心算法
- 时间复杂度：$O(V²)$，可用优先队列优化
- 应用：网络设计、电路布线

#### 2.5 Tarjan双连通分量算法
- 深度优先搜索的应用
- 时间复杂度：O(V+E)
- 应用：网络可靠性分析、关节检测

## 三、实验设计

### 1. 测试图设计

#### 1.1. 图1（加权图）
- 顶点数：8个（A-H）
- 边数：14条
- 特点：加权边，用于测试路径和最小生成树算法

#### 1.2. 图2（连通性测试图）
- 顶点数：12个（A-L）
- 边数：16条
- 特点：所有权重为1，专门用于测试双连通分量

### 2. 测试方案
1. 邻接矩阵输出测试：验证图的正确构建
2. 遍历算法测试：从指定起点进行BFS和DFS遍历
3. 路径查找测试：计算单源最短路径
4. 最小生成树测试：生成并验证MST
5. 连通性测试：在不同起点测试双连通分量和关节点

## 四、实验结果

### 1. 算法正确性验证

#### 图1算法输出
```text
=== 图1分析 ===
邻接矩阵:
  A B  C  D  E  F G  H 
A 0 4  0  6  0  0 7  0 
B 4 0  12 0  0  0 0  0 
C 0 12 0  9  1  2 0  0 
D 6 0  9  0  13 0 2  0 
E 0 0  1  13 0  5 11 8 
F 0 0  2  0  5  0 0  3 
G 7 0  0  2  11 0 0  14 
H 0 0  0  0  8  3 14 0 

从A点出发:
BFS遍历顺序: A B D G C E H F 
DFS遍历顺序: A B C D G E F H

从 A 出发的最短路径:
到 B: 距离=4, 路径=A -> B
到 C: 距离=15, 路径=A -> D -> C
到 D: 距离=6, 路径=A -> D
到 E: 距离=16, 路径=A -> D -> C -> E
到 F: 距离=17, 路径=A -> D -> C -> F
到 G: 距离=7, 路径=A -> G
到 H: 距离=20, 路径=A -> D -> C -> F -> H

最小支撑树边:
A - B (权重: 4)
D - C (权重: 9)
A - D (权重: 6)
C - E (权重: 1)
C - F (权重: 2)
D - G (权重: 2)
F - H (权重: 3)
总权重: 27
```

#### 图2连通性分析
#### 图1算法输出
```text
=== 图2分析 ===
起点: A
双连通分量: (H-C) (D-H) (C-D)
双连通分量: (F-C)
双连通分量: (K-L)
双连通分量: (J-F) (K-J) (K-F) (G-K) (F-G)
关节点: C F K

起点: D
双连通分量: (H-C) (D-H) (C-D)
双连通分量: (F-C)
双连通分量: (K-L)
双连通分量: (J-F) (K-J) (K-F) (G-K) (F-G)
关节点: C F K

起点: G
双连通分量: (H-C) (D-H) (C-D)
双连通分量: (F-C)
双连通分量: (K-L)
双连通分量: (J-F) (K-J) (K-F) (G-K) (F-G)
关节点: C F K
```

### 2. 算法性能分析

#### 2.1. 时间复杂度对比：
- BFS/DFS：$O(V+E)$，适合稀疏图
- Dijkstra（朴素实现）：$O(V²)$，适合稠密图
- Prim（朴素实现）：$O(V²)$，适合稠密图
- Tarjan：$O(V+E)$，线性时间复杂度

#### 2.2. 空间复杂度分析：
- 邻接矩阵：$O(V²)$
- 邻接表：$O(V+E)$
- 算法辅助空间：通常为$O(V)$

## 五、理论分析

### 1. 数据结构选择的影响
#### 1.1. 邻接矩阵:
- 优点：快速查询边存在性，适合稠密图
- 缺点：空间开销大，不适合稀疏图

#### 1.2. 邻接表：
- 优点：空间效率高，适合稀疏图
- 缺点：边查询较慢

### 2. 算法适用场景分析
#### 2.1. Dijkstra算法：适用于非负权图,实际应用中常使用优先队列优化版本
#### 2.2. Prim算法：适用于连通加权图,与Kruskal算法相比，更适合稠密图
#### 2.3. Tarjan算法：用于检测图的脆弱点（关节点）,在网络设计和分析中有重要应用

## 六、实验结论

1. **算法正确性**：所有实现的图算法均能正确运行，输出结果符合预期
2. **数据结构选择**：同时实现邻接矩阵和邻接表提供了灵活性，可根据具体应用场景选择
3. **算法效率**：不同算法有各自的适用场景，需要根据图的特点选择合适算法
4. **实际应用价值**：图算法在计算机网络、社交网络分析、路径规划等领域有广泛应用

## 七、总结与展望

本次实验成功实现了多种经典图算法，包括图的遍历、最短路径、最小生成树和连通性分析。通过两个不同特点的测试图，验证了算法的正确性和实用性。实验不仅加深了对图论基础知识的理解，也锻炼了算法实现和问题分析的能力。

图算法作为计算机科学的重要基础，在人工智能、大数据分析、网络优化等领域有着广泛应用。掌握这些基本算法为进一步学习和研究更复杂的图计算问题奠定了坚实基础。